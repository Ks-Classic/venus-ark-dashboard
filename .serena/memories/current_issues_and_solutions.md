# 現在の問題と解決策

## 問題1: 表の列数不足
**現状**: 3列しか表示されていない
**期待値**: 4列（前々週、前週、選択週、翌週）
**原因**: 重複除外ロジックが過度に働いて必要な列まで削除している

### 解決策
1. 重複除外ロジックの見直し
2. 週生成ロジックのデバッグ強化
3. 4列構成の確実な実装

## 問題2: 数値の不整合
**現状**: APIは53を返すがフロントエンドで54が表示される
**原因**: フロントエンドキャッシュの問題

### 解決策
1. フロントエンドキャッシュのクリア
2. データ取得部分のデバッグログ追加
3. APIレスポンスとフロントエンド状態の同期確認

## 問題3: 月またぎの週の処理
**現状**: 7月5W/8月1Wの統一表示は実装済み
**課題**: 重複除外ロジックが過度に働いている

### 解決策
1. 重複除外ロジックの調整
2. 月またぎの週の正確な判定
3. 統一表示の維持

## 修正方針
1. **段階的修正**: 一度に複数の問題を修正せず、一つずつ確実に修正
2. **デバッグログ**: 各修正段階でデバッグログを追加して問題を特定
3. **テスト**: 各修正後にAPIレスポンスとフロントエンド表示を確認
4. **仕様書準拠**: 常に仕様書の要件に基づいて修正

## 優先順位
1. **最高優先**: 4列構成の実装
2. **高優先**: 数値の不整合解決
3. **中優先**: 重複除外ロジックの最適化